

# 简历亮点

现象：在网络请求的过程中，有一定比例会出现网络请求出错，但多尝试几次又会成功，Android端网络报错，服务端没有接收到请求。

1. 怀疑代码有问题不稳定，更换网络框架，使用HttpUrlConnect原生网络请求（不行）
2. 怀疑DNS解析有问题，修改本地DNS，写死DNS（不行）
3. 直接使用IP地址请求接口，跳过DNS解析（不行）
4. 使用wireshark抓包网络请求，查看http三次握手状态（发现http三次握手成功）
5. 怀疑服务器主动把请求连接丢弃了
6. 查询http请求主动关闭http连接的可能操作（应该属于可配置项）
7. 了解到PAWS机制：目的是解决在高带宽下，TCP序列号在一次会话过程中可能被重复使用带来的问题。处理机制判断timestamp小于当前已处理过的报文的timestamp是延迟到达的重复报文，是可以丢弃的。
8. 复现：多台设备连接WIFI相近时间请求同一个接口，先请求的设备会出现网络请求出错
9. 去除服务器tcp_tw_recycle 配置项



现象：商场网络比较差

配置：HTTPDNS加快DNS解析，提升网络请求速度



当后台营销服务挂掉时，可以正常进行收银

